openapi: 3.0.3
info:
  title: Redmine OpenAPI Specification
  version: 6.0.0
servers:
  - url: http://127.0.0.1:3000
security:
  - ApiKeyHeaderAuth: []
  - ApiKeyQueryAuth: []
  - BasicAuth: []
paths:
  /custom_fields.json:
    get:
      description: Returns all the custom fields definitions.
      operationId: custom_fields#index
      responses:
        '200':
          description: |
            Returns a list of custom field.
          content:
            application/json:
              schema:
                type: object
                properties:
                  custom_fields:
                    type: array
                    items:
                      description: |
                        A single custom field.
                      type: object
                      required:
                        - id
                        - name
                      properties:
                        id:
                          type: integer
                          description: The ID of the custom field.
                        name:
                          type: string
                          description: The name of the custom field.
                        description:
                          type: string
                          description: The description of the custom field.
                        customized_type:
                          type: string
                          description: The customized type of the custom field.
                        field_format:
                          type: string
                          description: The field format of the custom field.
                        regexp:
                          type: string
                          description: The regexp of the custom field.
                        min_length:
                          type: integer
                          description: The min length of the custom field.
                        max_length:
                          type: integer
                          description: The max length of the custom field.
                        is_required:
                          type: boolean
                          description: The required of the custom field.
                        is_filter:
                          type: boolean
                          description: The filter of the custom field.
                        searchable:
                          type: boolean
                          description: The searchable of the custom field.
                        multiple:
                          type: boolean
                          description: The multiple of the custom field.
                        default_value:
                          type: string
                          description: The default value of the custom field.
                        visible:
                          type: boolean
                          description: The visible of the custom field.
                        editable:
                          type: boolean
                          description: The editable of the custom field.
                        possible_values:
                          type: array
                          description: The possible values of the custom field.
                          items:
                            type: object
                            properties:
                              value:
                                type: string
                                description: The value of the possible value.
                              label:
                                type: string
                                description: The label of the possible value.
                        trackers:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The id of the tracker.
                              name:
                                type: string
                                description: The name of the tracker.
                        roles:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The id of the role.
                              name:
                                type: string
                                description: The name of the role.
        '401':
          description: not provided
        '403':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: &ref_3
          type: string
  /groups.json:
    get:
      description: Returns a list of groups.
      operationId: groups#index
      parameters:
        - name: X-Redmine-Nometa
          in: header
          description: |
            If set to 1, the response will not include pagination information.
          schema: &ref_8
            type: integer
            enum:
              - 1
        - name: pagination
          in: query
          description: |
            Pagination parameters to control the number of items returned in the response.
            If not specified, it defaults to 25 items per page.
          schema: &ref_9
            type: object
            properties:
              offset:
                type: integer
                description: |
                  The offset of the first object to retrieve
                  If not specified, it defaults to 0.
                default: 0
              limit:
                type: integer
                description: |
                  The number of items to be present in the response.
                  If not specified, it defaults to 25.
                default: 25
                maximum: 100
              nometa:
                type: integer
                description: |
                  If set to 1, the response will not include pagination information.
                enum:
                  - 1
      responses:
        '200':
          description: |
            Returns a list of groups.
          content:
            application/json:
              schema:
                type: object
                properties:
                  groups:
                    type: array
                    items:
                      description: |
                        A single group.
                      type: object
                      required: &ref_1
                        - id
                        - name
                      properties: &ref_2
                        id:
                          type: integer
                          description: The ID of the group.
                        name:
                          type: string
                          description: The name of the group.
                        builtin:
                          type: string
                          description: The builtin type of the group.
                        custom_fields:
                          type: array
                          items:
                            type: object
                            properties: &ref_0
                              id:
                                type: integer
                                description: The ID of the custom field.
                              name:
                                type: string
                                description: The name of the custom field.
                              multiple:
                                type: boolean
                                description: Whether the custom field can have multiple values.
                              value: {}
        '401':
          description: not provided
        '403':
          description: not provided
    post:
      description: Creates a new group.
      operationId: groups#create
      requestBody:
        description: |
          The group to create or update.
        content: &ref_6
          application/json:
            schema:
              type: object
              properties:
                group:
                  description: |
                    A single group.
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name of the group.
                    twofa_required:
                      type: boolean
                      description: The 2FA required of the group.
                    user_ids:
                      type: array
                      description: The user id of the group.
                      items:
                        type: integer
                    custom_field_values:
                      type: object
                      description: |
                        The values of the custom fields.
                      additionalProperties: true
                    custom_fields:
                      type: array
                      items:
                        type: object
                        properties: *ref_0
        required: true
      responses:
        '201':
          description: |
            Returns the group with the specified ID.
          content: &ref_4
            application/json:
              schema:
                type: object
                properties:
                  group:
                    description: |
                      A single group.
                    allOf: &ref_24
                      - description: |
                          A single group.
                        type: object
                        required: *ref_1
                        properties: *ref_2
                      - type: object
                        properties:
                          users:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: The ID of the user.
                                name:
                                  type: string
                                  description: The name of the user.
                          memberships:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: The ID of the mebership.
                                project:
                                  type: object
                                  properties:
                                    id:
                                      type: integer
                                      description: The ID of the project.
                                    name:
                                      type: string
                                      description: The name of the project.
                                roles:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      id:
                                        type: integer
                                        description: The ID of the role.
                                      name:
                                        type: string
                                        description: The name of the role.
                                      inherited:
                                        type: boolean
                                        description: Whether the role is inherited from a parent project.
        '401':
          description: not provided
        '403':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: &ref_7
            application/json:
              schema:
                description: |
                  A list of errors that occurred during the request.
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      type: string
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /groups/{id}.json:
    get:
      description: |
        Returns the group with the specified ID.
      operationId: groups#show
      parameters:
        - name: id
          in: path
          description: |
            The ID of the group.
          required: true
          schema: &ref_5
            type: string
        - name: include
          in: query
          description: |
            fetch associated data (optional). Values should be separated by a comma ",".
            Possible values: `users`, `memberships`.
          schema:
            type: array
            items:
              type: string
              enum:
                - users
                - memberships
          style: form
          explode: false
      responses:
        '200':
          description: |
            Returns the group with the specified ID.
          content: *ref_4
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    put:
      description: |
        Updates the group with the specified ID.
      operationId: groups#update
      parameters:
        - name: id
          in: path
          description: |
            The ID of the group.
          required: true
          schema: *ref_5
      requestBody:
        description: |
          The group to create or update.
        content: *ref_6
        required: true
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    delete:
      description: |
        Deletes the group with the specified ID.
      operationId: groups#destroy
      parameters:
        - name: id
          in: path
          description: |
            The ID of the group.
          required: true
          schema: *ref_5
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /groups/{id}/users.json:
    post:
      description: Adds an existing user to a group.
      operationId: groups#add_users
      parameters:
        - name: id
          in: path
          description: |
            The ID of the group.
          required: true
          schema: *ref_5
      requestBody:
        description: |
          The user ID list.
        content:
          application/json:
            schema:
              type: object
              properties:
                user_ids:
                  type: array
                  items:
                    type: integer
        required: true
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /groups/{id}/users/{user_id}.json:
    delete:
      description: Removes a user from a group.
      operationId: groups#remove_user
      parameters:
        - name: id
          in: path
          description: |
            The ID of the group.
          required: true
          schema: *ref_5
        - name: user_id
          in: path
          description: |
            The ID of the user.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /projects.json:
    get:
      description: |
        Returns all projects (including all public projects and private projects to which the user has access).
      operationId: projects#index
      parameters:
        - name: X-Redmine-Nometa
          in: header
          description: |
            If set to 1, the response will not include pagination information.
          schema: *ref_8
        - name: pagination
          in: query
          description: |
            Pagination parameters to control the number of items returned in the response.
            If not specified, it defaults to 25 items per page.
          schema: *ref_9
        - name: query
          in: query
          schema:
            type: object
            properties:
              status:
                type: string
                description: |
                  The expression of status of the project.
                  The expression format is "[operator]\<values>". Values should be separated by a pipe "|".
                  Possible values are:
                  - `1`: active
                  - `5`: closed

                  examples:
                  - active or closed: `1|5`
                  - not closed: `!5`
              id:
                type: string
                description: |
                  The expression of identifier of the project.
                  The expression format is "[operator]\<values>". Values should be separated by a pipe "|".
              name:
                type: string
                description: |
                  The expression of name of the project.
                  The expression format is "\<operator>\<value>".
                  examples:
                  - contains "test": `~test`
                  - not contains "test": `!~test`
              description:
                type: string
                description: |
                  The expression of description of the project.
                  The expression format is "\<operator>\<value>".
                  examples:
                  - contains "test": `~test`
                  - not contains "test": `!~test`
              parent_id:
                type: string
                description: |
                  The expression of parent project id of the project.
                  The expression format is "\<operator>\<values>". Values should be separated by a pipe "|".
              is_public:
                type: string
                description: |
                  The expression of visibility of the project.
                  The expression format is "\<operator>\<values>". Values should be separated by a pipe "|".
                  Possible values are:
                  - `0`: private
                  - `1`: public

                  examples:
                  - public only: `1`
                  - public or private: `0|1`
              created_on:
                type: string
                description: |
                  The expression of created_on of the project.
                  The expression format is "[operator]\<value>".
                  examples:
                  - last week : `lw`
                  - before "2025/7/12": `<=2025-07-12`
              updated_on:
                type: string
                description: |
                  The expression of updated_on of the project.
                  The expression format is "[operator]\<value>".
                  examples:
                  - last week : `lw`
                  - before "2025/7/12": `<=2025-07-12`
            additionalProperties:
              type: string
        - name: include
          in: query
          description: |
            fetch associated data (optional). Values should be separated by a comma ",".
            Possible values: `trackers`, `issue_categories`, `enabled_modules`, `time_entry_activities`, `issue_custom_fields`.
          schema: &ref_12
            type: array
            items:
              type: string
              enum:
                - trackers
                - issue_categories
                - enabled_modules
                - time_entry_activities
                - issue_custom_fields
          style: form
          explode: false
      responses:
        '200':
          description: |
            Returns all projects (including all public projects and private projects to which the user has access).
          content:
            application/json:
              schema:
                type: object
                properties:
                  projects:
                    type: array
                    items:
                      description: |
                        A single project.
                      type: object
                      required: &ref_10
                        - id
                        - name
                        - identifier
                      properties: &ref_11
                        id:
                          type: integer
                          description: The ID of the project.
                        name:
                          type: string
                          description: The name of the project.
                        identifier:
                          type: string
                          description: The identifier of the project.
                        description:
                          type: string
                          description: The description of the project.
                        homepage:
                          type: string
                          description: The homepage URL of the project.
                        parent:
                          type: object
                          description: |
                            The parent project of the project. If the project has no parent, this will be `null`.
                          properties:
                            id:
                              type: integer
                              description: The ID of the parent project.
                            name:
                              type: string
                              description: The name of the parent project.
                        status:
                          type: integer
                          description: |
                            The status of the project. Possible values are:
                            - `1`: active
                            - `5`: closed
                            - `9`: archived
                            - `10`: scheduled for deletion
                        is_public:
                          type: boolean
                          description: The visibility of the project. `true` if the project is public, `false` if it is private.
                        inherit_members:
                          type: boolean
                          description: |
                            Whether the project inherits members from its parent project. `true` if it does, `false` if it does not.
                        custom_fields:
                          type: array
                          items:
                            type: object
                            properties: *ref_0
                        trackers:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The ID of the tracker.
                              name:
                                type: string
                                description: The name of the tracker.
                        issue_categories:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The ID of the issue category.
                              name:
                                type: string
                                description: The name of the issue category.
                        time_entry_activities:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The ID of the time entry activity.
                              name:
                                type: string
                                description: The name of the time entry activity.
                        enabled_modules:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The ID of the enabled module.
                              name:
                                type: string
                                description: The name of the enabled module.
                        issue_custom_fields:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                                description: The ID of the issue custom field.
                              name:
                                type: string
                                description: The name of the issue custom field.
                        created_on:
                          type: string
                          format: date-time
                          description: The date and time when the project was created.
                        updated_on:
                          type: string
                          format: date-time
                          description: The date and time when the project was last updated.
                  total_count:
                    type: integer
                    description: The total number of projects.
                  offset:
                    type: integer
                    description: The offset of the first project in the list.
                  limit:
                    type: integer
                    description: The maximum number of projects returned in the list.
        '401':
          description: not provided
        '403':
          description: not provided
    post:
      description: |
        Creates a new project.
      operationId: projects#create
      requestBody:
        description: |
          The project to create or update.
        content: &ref_15
          application/json:
            schema:
              type: object
              properties:
                project:
                  description: |
                    A single project.
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name of the project.
                    description:
                      type: string
                      description: The description of the project.
                    homepage:
                      type: string
                      description: The homepage URL of the project.
                    identifier:
                      type: string
                      description: The identifier of the project.
                    custom_field_values:
                      type: object
                      description: |
                        The values of the custom fields.
                      additionalProperties: true
                    custom_fields:
                      type: array
                      items:
                        type: object
                        properties: *ref_0
                    tracker_ids:
                      type: array
                      description: The IDs of the trackers associated with the project.
                      items:
                        type: integer
                    issue_custom_field_ids:
                      type: array
                      description: The IDs of the issue custom fields associated with the project.
                      items:
                        type: integer
                    parent_id:
                      type: integer
                      description: The ID of the parent project.
                    default_version_id:
                      type: integer
                      description: The ID of the default version of the project.
                    default_issue_query_id:
                      type: integer
                      description: The ID of the default issue query of the project
                    default_assigned_to_id:
                      type: integer
                      description: The ID of the default assignee of the project.
                    is_public:
                      type: boolean
                      description: The visibility of the project. `true` if the project is public, `false` if it is private.
                    enabled_module_names:
                      type: array
                      description: The names of the enabled modules for the project.
                      items:
                        type: string
                    inherit_members:
                      type: boolean
                      description: |
                        Whether the project inherits members from its parent project. `true` if it does, `false` if it does not.
        required: true
      responses:
        '201':
          description: |
            Returns the project with the specified ID or identifier.
          content: &ref_13
            application/json:
              schema:
                type: object
                properties:
                  project:
                    description: |
                      A single project.
                    allOf: &ref_25
                      - description: |
                          A single project.
                        type: object
                        required: *ref_10
                        properties: *ref_11
                      - type: object
                        properties:
                          default_version:
                            type: object
                            description: |
                              The default version of the project. If the project has no default version, this will be `null`.
                            properties:
                              id:
                                type: integer
                                description: The ID of the default version.
                              name:
                                type: string
                                description: The name of the default version.
                          default_assignee:
                            type: object
                            description: |
                              The default assignee of the project. If the project has no default assignee, this will be `null`.
                            properties:
                              id:
                                type: integer
                                description: The ID of the default assignee.
                              name:
                                type: string
                                description: The name of the default assignee.
        '401':
          description: not provided
        '403':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /projects/{id}.json:
    get:
      description: |
        Returns the project with the specified ID or identifier.
      operationId: projects#show
      parameters:
        - name: id
          in: path
          description: |
            The ID or identifier of the project.
          required: true
          schema: &ref_14
            type: string
        - name: include
          in: query
          description: |
            fetch associated data (optional). Values should be separated by a comma ",".
            Possible values: `trackers`, `issue_categories`, `enabled_modules`, `time_entry_activities`, `issue_custom_fields`.
          schema: *ref_12
          style: form
          explode: false
      responses:
        '200':
          description: |
            Returns the project with the specified ID or identifier.
          content: *ref_13
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    put:
      description: |
        Updates the project with the specified ID or identifier.
      operationId: projects#update
      parameters:
        - name: id
          in: path
          description: |
            The ID or identifier of the project.
          required: true
          schema: *ref_14
      requestBody:
        description: |
          The project to create or update.
        content: *ref_15
        required: true
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    delete:
      description: |
        Deletes the project with the specified ID or identifier.
      operationId: projects#destroy
      parameters:
        - name: id
          in: path
          description: |
            The ID or identifier of the project.
          required: true
          schema: *ref_14
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /projects/{id}/archive.json:
    put:
      description: |
        Archives the project with the specified ID or identifier.
      operationId: projects#archive
      parameters:
        - name: id
          in: path
          description: |
            The ID or identifier of the project.
          required: true
          schema: *ref_14
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /projects/{id}/unarchive.json:
    put:
      description: |
        Unarchives the project with the specified ID or identifier.
      operationId: projects#unarchive
      parameters:
        - name: id
          in: path
          description: |
            The ID or identifier of the project.
          required: true
          schema: *ref_14
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /roles.json:
    get:
      description: Returns a list of roles.
      operationId: roles#index
      responses:
        '200':
          description: |
            Returns a list of roles.
          content:
            application/json:
              schema:
                type: object
                properties:
                  roles:
                    type: array
                    items:
                      description: |
                        A single role.
                      type: object
                      required: &ref_16
                        - id
                        - name
                      properties: &ref_17
                        id:
                          type: integer
                          description: The ID of the role.
                        name:
                          type: string
                          description: The name of the role.
        '401':
          description: not provided
        '403':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /roles/{id}.json:
    get:
      description: |
        Returns the role with the specified ID.
      operationId: roles#show
      parameters:
        - name: id
          in: path
          description: |
            The ID of the role.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: |
            Returns the role with the specified ID.
          content:
            application/json:
              schema:
                type: object
                properties:
                  role:
                    description: |
                      A single role.
                    allOf: &ref_26
                      - description: |
                          A single role.
                        type: object
                        required: *ref_16
                        properties: *ref_17
                      - type: object
                        properties:
                          assignable:
                            type: boolean
                            description: The assignable of the role.
                          issues_visibility:
                            type: string
                            description: The issues visibility of the role.
                          time_entries_visibility:
                            type: string
                            description: The time entries visibility of the role.
                          users_visibility:
                            type: string
                            description: The users visibility of the role.
                          permissions:
                            type: array
                            items:
                              type: string
                              description: The permission of the role.
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /users.json:
    get:
      description: Returns a list of users.
      operationId: users#index
      parameters:
        - name: X-Redmine-Nometa
          in: header
          description: |
            If set to 1, the response will not include pagination information.
          schema: *ref_8
        - name: pagination
          in: query
          description: |
            Pagination parameters to control the number of items returned in the response.
            If not specified, it defaults to 25 items per page.
          schema: *ref_9
        - name: query
          in: query
          schema:
            type: object
            properties:
              status:
                type: string
                description: |
                  The expression of status of the user.
                  The expression format is "[operator]\<values>". Values should be separated by a pipe "|".
                  Possible values are:
                  - `1`: active
                  - `2`: registered
                  - `3`: locked

                  examples:
                  - active or locked: `1|3`
                  - not locked: `!3`
              auth_source_id:
                type: string
                description: |
                  The expression of auth source id of the user.
                  The expression format is "[operator]\<values>". Values should be separated by a pipe "|".
              is_member_of_group:
                type: string
                description: |
                  The expression of group id of the user.
                  The expression format is "[operator]\<values>". Values should be separated by a pipe "|".
              twofa_scheme:
                type: string
                description: |
                  The expression of 2FA scheme id of the user.
                  The expression format is "[operator]\<values>". Values should be separated by a pipe "|".
              name:
                type: string
                description: |
                  The expression of name of the user.
                  The expression format is "\<operator>\<value>".
                  examples:
                  - contains "test": `~test`
                  - not contains "test": `!~test`
              login:
                type: string
                description: |
                  The expression of login of the user.
                  The expression format is "\<operator>\<value>".
              firstname:
                type: string
                description: |
                  The expression of firstname of the user.
                  The expression format is "\<operator>\<value>".
              lastname:
                type: string
                description: |
                  The expression of lastname of the user.
                  The expression format is "\<operator>\<value>".
              mail:
                type: string
                description: |
                  The expression of mail of the user.
                  The expression format is "\<operator>\<value>".
              created_on:
                type: string
                description: |
                  The expression of created_on of the user.
                  The expression format is "[operator]\<value>".
                  examples:
                  - last week : `lw`
                  - before "2025/7/12": `<=2025-07-12`
              last_login_on:
                type: string
                description: |
                  The expression of last_login_on of the user.
                  The expression format is "[operator]\<value>".
                  examples:
                  - last week : `lw`
                  - before "2025/7/12": `<=2025-07-12`
              admin:
                type: string
                description: |
                  The expression of administrative of the user.
                  The expression format is "\<operator>\<values>". Values should be separated by a pipe "|".
                  Possible values are:
                  - `0`: no
                  - `1`: yes

                  examples:
                  - administrator: `1`
                  - non administrator: `0`
            additionalProperties:
              type: string
        - name: include
          in: query
          description: |
            fetch associated data (optional). Values should be separated by a comma ",".
            Possible values: `auth_source`, `memberships`, `groups`.
          schema: &ref_20
            type: array
            items:
              type: string
              enum:
                - auth_source
                - memberships
                - groups
          style: form
          explode: false
      responses:
        '200':
          description: |
            Returns a list of users.
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      description: |
                        A single user.
                      type: object
                      required: &ref_18
                        - id
                        - login
                        - firstname
                        - lastname
                      properties: &ref_19
                        id:
                          type: integer
                          description: The ID of the user.
                        login:
                          type: string
                          description: The login of the user.
                        admin:
                          type: boolean
                          description: The administrative of the user.
                        firstname:
                          type: string
                          description: The firstname of the user.
                        lastname:
                          type: string
                          description: The lastname of the user.
                        mail:
                          type: string
                          description: The mail of the user.
                        created_on:
                          type: string
                          format: date-time
                          description: The date and time when the user was created.
                        updated_on:
                          type: string
                          format: date-time
                          description: The date and time when the user was last updated.
                        last_login_on:
                          type: string
                          format: date-time
                          description: The date and time when the user was last logon.
                        passwd_changed_on:
                          type: string
                          format: date-time
                          description: The date and time when the user was change password.
                        avatar_url:
                          type: string
                          description: The avatar URL of the user.
                        twofa_scheme:
                          type: string
                          description: The 2FA scheme of the user.
                        status:
                          type: integer
                          description: |
                            The status of the user. Possible values are:
                            - `0`: anonymous
                            - `1`: active
                            - `2`: registered
                            - `3`: locked
                        auth_source:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: The ID of the auth source.
                            name:
                              type: string
                              description: The name of the auth source.
                        custom_fields:
                          type: array
                          items:
                            type: object
                            properties: *ref_0
                  total_count:
                    type: integer
                    description: The total number of users.
                  offset:
                    type: integer
                    description: The offset of the first user in the list.
                  limit:
                    type: integer
                    description: The maximum number of users returned in the list.
        '401':
          description: not provided
        '403':
          description: not provided
    post:
      description: Creates a new user.
      operationId: users#create
      requestBody:
        description: |
          The user to create or update.
        content: &ref_23
          application/json:
            schema:
              type: object
              properties:
                user:
                  description: |
                    A single user.
                  type: object
                  properties:
                    firstname:
                      type: string
                      description: The firstname of the user.
                    lastname:
                      type: string
                      description: The lastname of the user.
                    mail:
                      type: string
                      description: The mail address of the user.
                    mail_notification:
                      type: string
                      description: |
                        The mail notification of the user. Possible values are:
                        - `all`: all events
                        - `selected`: only selected events
                        - `only_my_events`: only events related to the user
                        - `only_assigned`: only events assigned to the user
                        - `only_owner`: only events owned by the user
                        - `none`: no events
                    notified_project_ids:
                      type: array
                      description: The notified project id of the user.
                      items:
                        type: integer
                    language:
                      type: string
                      description: The language of the user.
                    custom_field_values:
                      type: object
                      description: |
                        The values of the custom fields.
                      additionalProperties: true
                    custom_fields:
                      type: array
                      items:
                        type: object
                        properties: *ref_0
                    login:
                      type: string
                      description: The login of the user.
                    status:
                      type: integer
                      description: |
                        The status of the user. Possible values are:
                        - `0`: anonymous
                        - `1`: active
                        - `2`: registered
                        - `3`: locked
                    auth_source_id:
                      type: integer
                      description: The auth source id of the user.
                    generate_password:
                      type: boolean
                      description: The generate password of the user.
                    must_change_passwd:
                      type: boolean
                      description: The must change passwd of the user.
                    admin:
                      type: boolean
                      description: The administrative of the user.
                    group_ids:
                      type: array
                      description: The group id of the user.
                      items:
                        type: integer
                    password:
                      type: string
                      description: The password of the user.
                send_information:
                  type: boolean
                  description: |
                    If set to true, an email will be sent to the user with their login information.
                pref:
                  description: |
                    The preferences of the user.
                  type: object
                  properties:
                    hide_mail:
                      type: boolean
                      description: Whether the user's email should be hidden.
                    time_zone:
                      type: string
                      description: The time zone of the user.
                    comments_sorting:
                      type: string
                      description: The sorting order of comments. Possible values are `asc` and `desc`.
                    warn_on_leaving_unsaved:
                      type: boolean
                      description: Whether to warn the user when leaving a page with unsaved changes.
                    no_self_notified:
                      type: boolean
                      description: Whether the user should not be notified of their own actions.
                    notify_about_high_priority_issues:
                      type: boolean
                      description: Whether the user should be notified about high priority issues.
                    textarea_font:
                      type: string
                      description: |
                        The font used in text areas. Possible values are:
                        - `monospace`
                        - `proportional`
                    recently_used_projects:
                      type: integer
                      description: The number of recently used projects to display.
                    history_default_tab:
                      type: string
                      description: |
                        The default tab for the user's history. Possible values are:
                        - `notes`
                        - `history`
                        - `properties`
                        - `time_entries`
                        - `changesets`
                        - `last_tab_visited`
                    default_issue_query:
                      type: integer
                      description: The ID of the default issue query for the user.
                    default_project_query:
                      type: integer
                      description: The ID of the default project query for the user.
                    toolbar_language_options:
                      type: string
                      description: The language options for the toolbar.
                    auto_watch_on:
                      type: array
                      description: |
                        The auto watch setting for the user. Possible values are:
                        - `issue_created`
                        - `issue_contributed_to`
                      items:
                        type: string
        required: true
      responses:
        '201':
          description: |
            Returns the user with the specified ID.
          content: &ref_21
            application/json:
              schema:
                type: object
                properties:
                  user:
                    description: |
                      A single user.
                    allOf: &ref_27
                      - description: |
                          A single user.
                        type: object
                        required: *ref_18
                        properties: *ref_19
                      - type: object
                        properties:
                          api_key:
                            type: string
                            description: The API key of the user.
                          groups:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: The ID of the group.
                                name:
                                  type: string
                                  description: The name of the group.
                          memberships:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  description: The ID of the mebership.
                                project:
                                  type: object
                                  properties:
                                    id:
                                      type: integer
                                      description: The ID of the project.
                                    name:
                                      type: string
                                      description: The name of the project.
                                roles:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      id:
                                        type: integer
                                        description: The ID of the role.
                                      name:
                                        type: string
                                        description: The name of the role.
                                      inherited:
                                        type: boolean
                                        description: Whether the role is inherited from a parent project.
        '401':
          description: not provided
        '403':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
  /users/{id}.json:
    get:
      description: |
        Returns the user with the specified ID.
      operationId: users#show
      parameters:
        - name: id
          in: path
          description: |
            The ID of the user.
          required: true
          schema: &ref_22
            type: string
        - name: include
          in: query
          description: |
            fetch associated data (optional). Values should be separated by a comma ",".
            Possible values: `auth_source`, `memberships`, `groups`.
          schema: *ref_20
          style: form
          explode: false
      responses:
        '200':
          description: |
            Returns the user with the specified ID.
          content: *ref_21
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
    put:
      description: |
        Updates the user with the specified ID.
      operationId: users#update
      parameters:
        - name: id
          in: path
          description: |
            The ID of the user.
          required: true
          schema: *ref_22
      requestBody:
        description: |
          The user to create or update.
        content: *ref_23
        required: true
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    delete:
      description: |
        Deletes the user with the specified ID.
      operationId: users#destroy
      parameters:
        - name: id
          in: path
          description: |
            The ID of the user.
          required: true
          schema: *ref_22
      responses:
        '204':
          description: not provided
        '401':
          description: not provided
        '403':
          description: not provided
        '404':
          description: not provided
        '422':
          description: |
            The request was well-formed but was unable to be followed due to semantic errors.
          content: *ref_7
    parameters:
      - name: X-Redmine-Switch-User
        in: header
        description: |
          This only works when using the API with an administrator account,
          this header will be ignored when using the API with a regular user account.
        schema: *ref_3
components:
  schemas:
    group_detail:
      description: |
        A single group.
      allOf: *ref_24
    project_detail:
      description: |
        A single project.
      allOf: *ref_25
    role_detail:
      description: |
        A single role.
      allOf: *ref_26
    user_detail:
      description: |
        A single user.
      allOf: *ref_27
  responses:
    unprocessable_entity:
      description: |
        The request was well-formed but was unable to be followed due to semantic errors.
      content: *ref_7
    error:
      description: |
        An error occurred while processing the request.
      content:
        application/json:
          schema:
            description: |
              A single error that occurred during the request.
            type: object
            properties:
              status:
                type: integer
                description: The HTTP status code of the error.
              error:
                type: string
                description: A description of the error.
  securitySchemes:
    ApiKeyHeaderAuth:
      type: apiKey
      in: header
      name: X-Redmine-API-Key
    ApiKeyQueryAuth:
      type: apiKey
      in: query
      name: key
    BasicAuth:
      type: http
      scheme: basic
